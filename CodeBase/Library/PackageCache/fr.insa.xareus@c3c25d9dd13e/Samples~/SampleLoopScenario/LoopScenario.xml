<?xml version="1.0" encoding="utf-8"?>
<scenario xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="LoopScenarioExample" label="MyScenario" version="5.12.0.0" xmlns="http://www.insa-rennes.fr/Xareus.Scenarios">
  <extendedInfo>
    <unityEditor xmlns="">
      <version>1.2</version>
    </unityEditor>
  </extendedInfo>
  <sequence xsi:type="SafePetriNet" id="Root" label="Root">
    <extendedInfo>
      <unityEditor xmlns="">
        <comments>
          <comment>
            <value>&lt;comment id="Comment_0" label="Create a variable in the scenario context" text="A variable called Index is created inside the context (token) to count the number of loop.&amp;#xA;To visualize correctly what is happening in this transition, select Options &amp;gt; Active Profile &amp;gt; Advanced" height="150" width="500" color="#D6590080" isFolded="true"&gt;&lt;position x="900" y="400" /&gt;&lt;/comment&gt;</value>
          </comment>
        </comments>
        <sections>
          <section>
            <value>&lt;section id="Section_1" label="Loop Case: Change alternatively the color of the cube between black and yellow 3 times. In the end, the cube color is changed to green." height="348" width="706" color="#57959580"&gt;&lt;position x="729" y="499" /&gt;&lt;/section&gt;</value>
          </section>
        </sections>
        <viewData x="-702.0996" y="-291.299683" zoom="1.29999971" />
      </unityEditor>
    </extendedInfo>
    <sequence xsi:type="Place" id="Place_0" label="Place_0">
      <extendedInfo>
        <unityEditor xmlns="">
          <position x="800" y="300" />
        </unityEditor>
      </extendedInfo>
    </sequence>
    <sequence xsi:type="Place" id="Place_1" label="Place_1">
      <extendedInfo>
        <unityEditor xmlns="">
          <position x="800" y="600" />
        </unityEditor>
      </extendedInfo>
    </sequence>
    <sequence xsi:type="Place" id="Place_2" label="Place_2">
      <extendedInfo>
        <unityEditor xmlns="">
          <position x="800" y="1000" />
        </unityEditor>
      </extendedInfo>
    </sequence>
    <sequence xsi:type="Place" id="Place_3" label="Place_3">
      <extendedInfo>
        <unityEditor xmlns="">
          <position x="1300" y="800" />
        </unityEditor>
      </extendedInfo>
    </sequence>
    <sequence xsi:type="Place" id="Place_4" label="Place_4">
      <extendedInfo>
        <unityEditor xmlns="">
          <position x="1100" y="600" />
        </unityEditor>
      </extendedInfo>
    </sequence>
    <transition id="Transition_0" label="Assign Value In Token">
      <extendedInfo>
        <unityEditor xmlns="">
          <position x="802" y="444" />
        </unityEditor>
      </extendedInfo>
      <event id="Transition_0" label="Assign Value In Token" />
      <upstreamSequence idref="Place_0" />
      <downstreamSequence idref="Place_1" />
      <tokenAssign classname="Xareus.Unity.DefaultUnityTokenUpdate,Xareus.Unity.Libraries">
        <param type="System.Collections.Generic.List`1[[Xareus.Scenarios.Extra.DefaultTokenUpdate+TokenData,Xareus.Scenarios.Extra]],mscorlib" name="TokenData">
          <param value="" type="Xareus.Scenarios.Extra.DefaultTokenUpdate+TokenData,Xareus.Scenarios.Extra" name="elem0">
            <param type="Xareus.Scenarios.Extra.DownstreamSequenceList,Xareus.Scenarios.Extra" name="downstreamSequences" />
            <param value="Index" type="Xareus.Scenarios.Variables.TokenVariablePath,Xareus.Scenarios" name="variable" />
            <param value="0" type="System.Int32,mscorlib" name="value" />
          </param>
        </param>
      </tokenAssign>
    </transition>
    <transition id="Transition_1" label="End Condition">
      <extendedInfo>
        <unityEditor xmlns="">
          <position x="800" y="800" />
        </unityEditor>
      </extendedInfo>
      <event id="Transition_1" label="End Condition">
        <effectorUpdate classname="Xareus.Scenarios.Unity.ChangeColorEffector,Xareus.Unity.Libraries">
          <param type="UnityEngine.Renderer,UnityEngine.CoreModule" name="Renderer">
            <param value="1cdf9cde-28dc-4e42-b4c9-b81d66a442e5" type="System.Guid,mscorlib" name="UFID" />
          </param>
          <param value="#078721FF" type="UnityEngine.Color,UnityEngine.CoreModule" name="Color" />
        </effectorUpdate>
      </event>
      <upstreamSequence idref="Place_1" />
      <downstreamSequence idref="Place_2" />
    </transition>
    <transition id="Transition_2" label="For Condition and Change Color" priority="1">
      <extendedInfo>
        <unityEditor xmlns="">
          <position x="1000" y="800" />
        </unityEditor>
      </extendedInfo>
      <event id="Transition_2" label="For Condition and Change Color">
        <sensorCheck classname="Xareus.Scenarios.Arithmetics.NumberSensor,Xareus.Scenarios.Extra">
          <param value="$(SequenceContext.Index)" type="Xareus.Scenarios.Variables.Variable,Xareus.Scenarios" name="operand1" />
          <param value="3" type="System.Single,mscorlib" name="operand2" />
          <param value="LESS_THAN" type="Xareus.Scenarios.Arithmetics.NumberSensor+ComparisonOperator,Xareus.Scenarios.Extra" name="operator" />
        </sensorCheck>
        <effectorUpdate classname="Xareus.Scenarios.Unity.ChangeColorEffector,Xareus.Unity.Libraries">
          <param type="UnityEngine.Renderer,UnityEngine.CoreModule" name="Renderer">
            <param value="1cdf9cde-28dc-4e42-b4c9-b81d66a442e5" type="System.Guid,mscorlib" name="UFID" />
          </param>
          <param value="#CF9D00FF" type="UnityEngine.Color,UnityEngine.CoreModule" name="Color" />
        </effectorUpdate>
      </event>
      <upstreamSequence idref="Place_1" />
      <downstreamSequence idref="Place_3" />
    </transition>
    <transition id="Transition_3" label="Reset Color">
      <extendedInfo>
        <unityEditor xmlns="">
          <position x="1300" y="600" />
        </unityEditor>
      </extendedInfo>
      <event id="Transition_3" label="Reset Color">
        <sensorCheck classname="Xareus.Scenarios.Time.Unity.UnityTimeSensor,Xareus.Unity.Libraries">
          <param value="1" type="System.Double,mscorlib" name="minimum" />
          <param value="Update" type="Xareus.Scenarios.Time.Unity.UnityTimeSensor+TimeType,Xareus.Unity.Libraries" name="Time type" />
          <param value="SECOND" type="Xareus.Scenarios.Time.TimeUnit,Xareus.Scenarios.Extra" name="unit" />
        </sensorCheck>
        <effectorUpdate classname="Xareus.Scenarios.Unity.ChangeColorEffector,Xareus.Unity.Libraries">
          <param type="UnityEngine.Renderer,UnityEngine.CoreModule" name="Renderer">
            <param value="1cdf9cde-28dc-4e42-b4c9-b81d66a442e5" type="System.Guid,mscorlib" name="UFID" />
          </param>
          <param value="#000000FF" type="UnityEngine.Color,UnityEngine.CoreModule" name="Color" />
        </effectorUpdate>
      </event>
      <upstreamSequence idref="Place_3" />
      <downstreamSequence idref="Place_4" />
    </transition>
    <transition id="Transition_4" label="Increment Index">
      <extendedInfo>
        <unityEditor xmlns="">
          <position x="938" y="604" />
        </unityEditor>
      </extendedInfo>
      <event id="Transition_4" label="Increment Index">
        <sensorCheck classname="Xareus.Scenarios.Time.Unity.UnityTimeSensor,Xareus.Unity.Libraries">
          <param value="1" type="System.Double,mscorlib" name="minimum" />
          <param value="Update" type="Xareus.Scenarios.Time.Unity.UnityTimeSensor+TimeType,Xareus.Unity.Librairies" name="Time type" />
          <param value="SECOND" type="Xareus.Scenarios.Time.TimeUnit,Xareus.Scenarios.Extra" name="unit" />
        </sensorCheck>
        <effectorUpdate classname="Xareus.Scenarios.Arithmetics.NumberEffector,Xareus.Scenarios.Extra">
          <param value="$(SequenceContext.Index)" type="Xareus.Scenarios.Variables.Variable,Xareus.Scenarios" name="operand1" />
          <param value="INCREMENT" type="Xareus.Scenarios.Arithmetics.NumberEffector+ArithmeticalOperator,Xareus.Scenarios.Extra" name="operator" />
          <param value="$(SequenceContext.Index)" type="Xareus.Scenarios.Variables.Variable,Xareus.Scenarios" name="result" />
        </effectorUpdate>
      </event>
      <upstreamSequence idref="Place_4" />
      <downstreamSequence idref="Place_1" />
    </transition>
    <initialSequence idref="Place_0">
      <tokenInit classname="Xareus.Scenarios.TokenInit.EmptyTokenInit,Xareus.Scenarios" />
    </initialSequence>
    <finalSequence idref="Place_2" />
  </sequence>
</scenario>